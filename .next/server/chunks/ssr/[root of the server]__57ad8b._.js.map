{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ttigg/Documents/GitHub/ufps-web/src/data/monitoring-data.js"],"sourcesContent":["'use client'\r\n\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getDatabase, ref, onValue, query, orderByKey, limitToLast } from 'firebase/database';\r\nimport { useState, useEffect } from 'react';\r\n\r\n// Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCDd1Dfg1W35UA1U0Boqdny2pjLgFRHl_s\",\r\n  authDomain: \"ufps-39155.firebaseapp.com\",\r\n  databaseURL: \"https://ufps-39155-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"ufps-39155\",\r\n  storageBucket: \"ufps-39155.firebasestorage.app\",\r\n  messagingSenderId: \"45161507872\",\r\n  appId: \"1:45161507872:web:5f129c23eb9c2f933c2045\",\r\n  measurementId: \"G-LRZYMDDQV7\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst database = getDatabase(app);\r\n\r\n// Constants\r\nconst FIREBASE_USER_ID = 'EDGk6glhF7gyCgk8BwpPlWOV26B2';\r\nconst PIERA_PATH = 'PieraData';\r\nconst RAW_PATH = 'RAWdata/Cafe';\r\n\r\n// Helper functions\r\nconst getCurrentDatePath = () => {\r\n  const date = new Date();\r\n  const year = date.getFullYear();\r\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n  const day = date.getDate().toString().padStart(2, '0');\r\n  return `${year}-${month}-${day}`;\r\n};\r\n\r\nconst getCurrentTime = () => {\r\n  const date = new Date();\r\n  const hours = date.getHours().toString().padStart(2, '0');\r\n  const minutes = date.getMinutes().toString().padStart(2, '0');\r\n  const seconds = date.getSeconds().toString().padStart(2, '0');\r\n  return `${hours}:${minutes}:${seconds}`;\r\n};\r\n\r\nconst formatDisplayDate = (date) => {\r\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n  const day = date.getDate().toString().padStart(2, '0');\r\n  const year = date.getFullYear();\r\n  return `${month}/${day}/${year}`;\r\n};\r\n\r\n// PM thresholds and color functions remain the same\r\nexport const getAirQualityColor = (status) => {\r\n  const colors = {\r\n    Excellent: '#1E88E5',\r\n    Good: '#2DC653',\r\n    Moderate: '#FECF3E',\r\n    Unhealthy: '#FF9500',\r\n    Hazardous: '#D02224'\r\n  };\r\n  return colors[status] || colors.Moderate;\r\n};\r\n\r\nexport const formatPMValue = (value) => {\r\n  const numericValue = parseFloat(value);\r\n  if (isNaN(numericValue)) return value;\r\n  return `${numericValue.toFixed(2)} Œºg/m¬≥`;\r\n};\r\n\r\nexport const getRecommendationIcon = (index) => {\r\n  const icons = ['‚úÖ', 'üö∂', 'ü™ü', '‚ö†Ô∏è'];\r\n  return icons[index] || '‚Ä¢';\r\n};\r\n\r\nexport const PM_THRESHOLDS = {\r\n  PM01: {\r\n    Excellent: 0.0,\r\n    good: 0.5,\r\n    moderate: 1.0,\r\n    unhealthy: 2.0,\r\n    Hazardous: Number.MAX_VALUE\r\n  },\r\n  PM25: {\r\n    Excellent: 15.0,\r\n    good: 25.0,\r\n    moderate: 37.5,\r\n    unhealthy: 75.0,\r\n    Hazardous: Number.MAX_VALUE\r\n  },\r\n  PM100: {\r\n    Excellent: 50.0,\r\n    good: 80.0,\r\n    moderate: 120.0,\r\n    unhealthy: 180.0,\r\n    Hazardous: Number.MAX_VALUE\r\n  }\r\n};\r\n\r\nconst determineAirQuality = (pm01, pm25, pm100) => {\r\n  // Check Excellent\r\n  if (pm01 <= PM_THRESHOLDS.PM01.Excellent &&\r\n    pm25 <= PM_THRESHOLDS.PM25.Excellent &&\r\n    pm100 <= PM_THRESHOLDS.PM100.Excellent) {\r\n    return \"Excellent\";\r\n  }\r\n  // Check Good\r\n  else if (pm01 <= PM_THRESHOLDS.PM01.good &&\r\n    pm25 <= PM_THRESHOLDS.PM25.good &&\r\n    pm100 <= PM_THRESHOLDS.PM100.good) {\r\n    return \"Good\";\r\n  }\r\n  // Check Moderate\r\n  else if (pm01 <= PM_THRESHOLDS.PM01.moderate &&\r\n    pm25 <= PM_THRESHOLDS.PM25.moderate &&\r\n    pm100 <= PM_THRESHOLDS.PM100.moderate) {\r\n    return \"Moderate\";\r\n  }\r\n  // Check Unhealthy\r\n  else if (pm01 <= PM_THRESHOLDS.PM01.unhealthy &&\r\n    pm25 <= PM_THRESHOLDS.PM25.unhealthy &&\r\n    pm100 <= PM_THRESHOLDS.PM100.unhealthy) {\r\n    return \"Unhealthy\";\r\n  }\r\n  // If above all thresholds, return Hazardous\r\n  else {\r\n    return \"Hazardous\";\r\n  }\r\n};\r\n// Updated hook to get realtime monitoring data with time-based updates\r\nexport const useMonitoringData = () => {\r\n  const [monitoringData, setMonitoringData] = useState({\r\n    date: formatDisplayDate(new Date()),\r\n    time: getCurrentTime(),\r\n    mainReading: {\r\n      value: 0,\r\n      unit: \"Œºg/m¬≥\",\r\n      status: \"Good\",\r\n      note: \"(Long-term/Short-term)\"\r\n    },\r\n    conditions: {\r\n      temperature: \"Loading...\",\r\n      humidity: \"Loading...\"\r\n    },\r\n    pmReadings: [\r\n      { type: \"PM0.1\", value: \"Loading...\" },\r\n      { type: \"PM2.5\", value: \"Loading...\" },\r\n      { type: \"PM10\", value: \"Loading...\" }\r\n    ],\r\n    recommendations: [\r\n      \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...\",\r\n      \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®...\",\r\n      \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥...\"\r\n    ]\r\n  });\r\n\r\n  useEffect(() => {\r\n    const datePath = getCurrentDatePath();\r\n    \r\n    // Set up paths for both data sources\r\n    const pieraDataPath = `/${PIERA_PATH}/${FIREBASE_USER_ID}/${datePath}`;\r\n    const rawDataPath = `/${RAW_PATH}/${datePath}`;\r\n\r\n    // Create queries for both paths to get latest entries\r\n    const pieraQuery = query(\r\n      ref(database, pieraDataPath),\r\n      orderByKey(),\r\n      limitToLast(1)\r\n    );\r\n\r\n    const rawQuery = query(\r\n      ref(database, rawDataPath),\r\n      orderByKey(),\r\n      limitToLast(1)\r\n    );\r\n\r\n    // Subscribe to Piera data updates\r\n    const pieraUnsubscribe = onValue(pieraQuery, (snapshot) => {\r\n      const timeData = snapshot.val();\r\n\r\n      if (timeData) {\r\n        const latestTime = Object.keys(timeData)[0];\r\n        const data = timeData[latestTime];\r\n\r\n        if (data) {\r\n          const pm01 = parseFloat(data.PM01 || 0);\r\n          const pm25 = parseFloat(data.PM25 || 0);\r\n          const pm10 = parseFloat(data.PM100 || 0);\r\n          \r\n          const airQualityStatus = determineAirQuality(pm01, pm25, pm10);\r\n          const recommendations = getRecommendations(airQualityStatus);\r\n\r\n          setMonitoringData(prevData => ({\r\n            ...prevData,\r\n            date: formatDisplayDate(new Date()),\r\n            time: latestTime,\r\n            mainReading: {\r\n              value: pm01,\r\n              unit: \"Œºg/m¬≥\",\r\n              status: airQualityStatus,\r\n              note: \"(Long-term/Short-term)\"\r\n            },\r\n            pmReadings: [\r\n              { type: \"PM0.1\", value: `${pm01} Œºg/m¬≥` },\r\n              { type: \"PM2.5\", value: `${pm25} Œºg/m¬≥` },\r\n              { type: \"PM10\", value: `${pm10} Œºg/m¬≥` }\r\n            ],\r\n            recommendations\r\n          }));\r\n        }\r\n      }\r\n    });\r\n\r\n    // Subscribe to RAW data updates\r\n    const rawUnsubscribe = onValue(rawQuery, (snapshot) => {\r\n      const timeData = snapshot.val();\r\n\r\n      if (timeData) {\r\n        const latestTime = Object.keys(timeData)[0];\r\n        const data = timeData[latestTime];\r\n\r\n        if (data) {\r\n          setMonitoringData(prevData => ({\r\n            ...prevData,\r\n            conditions: {\r\n              temperature: `${data.IndoorTemperature || \"N/A\"}¬∞C`,\r\n              humidity: `${data.IndoorHumidity || \"N/A\"}%`\r\n            }\r\n          }));\r\n        }\r\n      }\r\n    });\r\n\r\n    // Cleanup function to unsubscribe from both listeners\r\n    return () => {\r\n      pieraUnsubscribe();\r\n      rawUnsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return monitoringData;\r\n};\r\n\r\nconst getRecommendations = (airQualityStatus) => {\r\n  switch (airQualityStatus) {\r\n    case 'Excellent':\r\n      return [\r\n        \"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û\",\r\n        \"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥\",\r\n        \"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÑ‡∏î‡πâ\"\r\n      ];\r\n    case 'Good':\r\n      return [\r\n        \"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û\",\r\n        \"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥\",\r\n        \"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÑ‡∏î‡πâ\",\r\n        \"‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏≠‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á\"\r\n      ];\r\n    case 'Moderate':\r\n      return [\r\n        \"‡∏Ñ‡∏ß‡∏£‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£\",\r\n        \"‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏ù‡∏∏‡πà‡∏ô\",\r\n        \"‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á\"\r\n      ];\r\n    case 'Unhealthy':\r\n      return [\r\n        \"‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á\",\r\n        \"‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏ù‡∏∏‡πà‡∏ô\",\r\n        \"‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏¢‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå\",\r\n        \"‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ü‡∏≠‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏®\"\r\n      ];\r\n    case 'Hazardous':\r\n      return [\r\n        \"‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á\",\r\n        \"‡∏á‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ù‡∏∏‡πà‡∏ô\",\r\n        \"‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå\"\r\n      ];\r\n    default:\r\n      return [\r\n        \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...\",\r\n        \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®...\",\r\n        \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥...\"\r\n      ];\r\n  }\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ttigg/Documents/GitHub/ufps-web/src/components/MonitoringInterface.js"],"sourcesContent":["'use client'\r\n\r\nimport React, { useState } from 'react';\r\nimport { ArrowUpRight, Thermometer, Droplets, Menu, X, ChevronUp } from 'lucide-react';\r\nimport {\r\n  getAirQualityColor,\r\n  formatPMValue,\r\n  getRecommendationIcon,\r\n  useMonitoringData\r\n} from '../data/monitoring-data';\r\n\r\nconst Header = () => {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <header className=\"h-16 bg-green-100 border-b border-green-100 flex-shrink-0\">\r\n      <div className=\"h-full flex items-center justify-between px-4\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"w-12 h-12 flex-shrink-0 flex items-center justify-center\">\r\n            <img\r\n              src=\"/mupcop-logo.png\"\r\n              alt=\"Mupcop logo\"\r\n              className=\"w-10 h-10 object-contain\"\r\n              width={82}\r\n              height={82}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-xl font-bold text-black\">Mupcop</h1>\r\n            <h2 className=\"text-xs font-light text-black max-w-xl\">\r\n              Multi-factor ultrafine particle optimization prediction\r\n            </h2>\r\n          </div>\r\n        </div>\r\n        \r\n        <nav className=\"hidden sm:flex items-center gap-4\">\r\n          <button className=\"px-3 py-1 text-base font-semibold text-black rounded-lg hover:bg-green-200 transition-colors\">\r\n            Air quality\r\n          </button>\r\n          <button className=\"px-3 py-1 text-base font-semibold text-black rounded-lg hover:bg-green-200 transition-colors\">\r\n            History data\r\n          </button>\r\n        </nav>\r\n        \r\n        <button \r\n          className=\"sm:hidden\"\r\n          onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n        >\r\n          {isMenuOpen ? <X size={20} /> : <Menu size={20} />}\r\n        </button>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst MonitoringPanel = () => {\r\n  const data = useMonitoringData();\r\n  const statusColor = getAirQualityColor(data.mainReading.status);\r\n\r\n  // ‡πÅ‡∏™‡∏î‡∏á loading state ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\r\n  if (!data) return (\r\n    <div className=\"flex items-center justify-center h-full\">\r\n      <div className=\"text-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-800 mb-2\"></div>\r\n        <p className=\"text-sm text-gray-600\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"h-full lg:w-1/3 bg-gray-50/50 border-r border-gray-100 overflow-auto\">\r\n      <div className=\"p-3\">\r\n        <h2 className=\"text-xl font-light mb-2 text-black-800\">UFPs Monitoring</h2>\r\n\r\n        {/* Main reading card */}\r\n        <div className=\"bg-white rounded-lg p-3 shadow-sm border border-gray-100 mb-3\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\r\n              <span className=\"text-base font-semibold text-black\">LIVE</span>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <span className=\"text-xs text-black\">{data.date}</span>\r\n              <span className=\"text-xs text-gray-500 ml-2\">{data.time}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className=\"p-3 rounded-lg mb-3 shadow-sm text-white\"\r\n            style={{ backgroundColor: statusColor }}\r\n          >\r\n            <div className=\"flex justify-between items-start\">\r\n              <div>\r\n                <span className=\"text-xl font-bold\">{data.mainReading.value}</span>\r\n                <span className=\"text-sm ml-1\">{data.mainReading.unit}</span>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div className=\"text-sm font-medium\">{data.mainReading.status}</div>\r\n                <div className=\"text-xs opacity-90\">{data.mainReading.note}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-3 text-xs\">\r\n            <div className=\"text-center flex flex-col items-center gap-1 bg-blue-50 p-2 rounded-lg\">\r\n              <Thermometer className=\"w-4 h-4 text-blue-400\" />\r\n              <div className=\"text-blue-700 font-medium\">{data.conditions.temperature}</div>\r\n              <div className=\"text-blue-500 text-xs\">Temperature</div>\r\n            </div>\r\n            <div className=\"text-center flex flex-col items-center gap-1 bg-blue-50 p-2 rounded-lg\">\r\n              <Droplets className=\"w-4 h-4 text-blue-400\" />\r\n              <div className=\"text-blue-700 font-medium\">{data.conditions.humidity}</div>\r\n              <div className=\"text-blue-500 text-xs\">Humidity</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* PM Readings */}\r\n        <div className=\"grid gap-2 grid-cols-1 mb-3\">\r\n          {data.pmReadings.map((reading, index) => (\r\n            <div\r\n              key={`pm-${index}`}\r\n              className=\"bg-white p-2.5 rounded-lg shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 bg-blue-500 rounded-full\" />\r\n                  <span className=\"text-sm font-medium\">{reading.type}</span>\r\n                </div>\r\n                <span className=\"text-sm text-blue-500 font-medium\">\r\n                  {formatPMValue(reading.value)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Recommendations */}\r\n        <div className=\"bg-white rounded-lg p-3 shadow-sm border border-gray-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-800 mb-2\">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>\r\n          <div className=\"space-y-2 text-xs\">\r\n            {data.recommendations.map((recommendation, index) => (\r\n              <div \r\n                key={`rec-${index}`} \r\n                className=\"flex items-center gap-2 text-gray-600 hover:bg-gray-50 p-2 rounded-lg transition-colors\"\r\n              >\r\n                \r\n                <span>{`${getRecommendationIcon(index)} ${recommendation}`}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Footer = () => (\r\n  <footer className=\"flex flex-col sm:flex-row items-start sm:items-center gap-2 p-4 bg-green-100 border-t border-green-100\">\r\n    <span className=\"text-base text-black\">Made with by Jaejae Dream Yok ‚ù§Ô∏è</span>\r\n    <div className=\"flex items-center justify-end ml-auto gap-4\">\r\n      <div className=\"w-8 h-8 flex-shrink-0 flex items-center justify-center\">\r\n        <img\r\n          src=\"/mupcop-logo.png\"\r\n          alt=\"Mupcop logo\"\r\n          className=\"w-16 h-16 object-contain\"\r\n          width={82}\r\n          height={82}\r\n        />\r\n      </div>\r\n      <div className=\"flex-col\">\r\n        <p className=\"text-sm text-gray-700\">\r\n          <span className=\"text-xl font-bold text-black mb-1\">Mupcop</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n);\r\n\r\nexport { Header, MonitoringPanel, Footer };"],"names":[],"mappings":"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"}},
    {"offset": {"line": 912, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ttigg/Documents/GitHub/ufps-web/src/components/ClientWrapper.js"],"sourcesContent":["'use client'\r\n// src/components/ClientWrapper.js\r\nimport dynamic from 'next/dynamic'\r\n\r\nconst MapComponent = dynamic(() => import('./MapComponents'), {\r\n  ssr: false,\r\n})\r\n\r\nexport function ClientWrapper() {\r\n  return (\r\n    <div className=\"absolute inset-0\">\r\n      <MapComponent />\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;AACA,kCAAkC;AAClC;AAFA;;;AAIA,MAAM,eAAe,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;;;IACzB,KAAK;;AAGA,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;;;;;;;;;;AAGP"}},
    {"offset": {"line": 951, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}